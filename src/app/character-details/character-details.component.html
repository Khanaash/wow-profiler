<div class="col-xs-12">
  <div class="text-center row">
    <h3 *ngIf="loading">
      Recherche du personnage en cours
    </h3>
    <span *ngIf="erreurApparue">
      <h4>Le personnage {{inNomPersonnage}} n'a pas été trouvé sur le serveur {{inNomServeur}}.</h4>
      <button routerLink="/" type="button" class="btn btn-primary">Retour sur la recherche</button>
    </span>
  </div>
</div>

<span *ngIf="personnage">
  <div class="col-xs-12 card-character">
      <div class="card-character-background" [ngStyle]="{'background-image': 'url(/src/assets/character-details/' + personnage.classeInfos.cardBackgroundLocation + ')'}"></div>
      <div class="card-character-foreground">
        <div class="col-xs-9 card-character-summary">
            <div>
              <div class="card-character-avatar">
                <img src="{{envVariableBaseUrlBlizzardRender}}/character/{{personnage.imagePortrait}}"  alt="Avatar"/>
                <div class="badge-faction"
                     [ngStyle]="{'background-image': 'url(/src/assets/' + (personnage.isHorde() ? 'horde-logo.png' : 'alliance-logo.png') + ')'}">
                </div>
                <div class="badge-niveau">
                  {{personnage.niveau}}
                </div>
              </div>
            </div>
            <div class="card-character-id">
              <div class="card-character-name">
                {{personnage.getNomAvecSelectedTitre()}}
              </div>
              <div [style.color]="personnage.classeInfos.colorCss">
                {{personnage.getClasseLibelle()}} {{personnage.getRaceLibelle()}}
              </div>
            </div>
        </div>
        <div class="col-xs-3 card-character-main-infos">
          <div class="pull-right card-character-main-infos-block">
            <div class="card-character-main-infos-block-entete" [style.border-bottom-color]="personnage.classeInfos.colorCss">
              Niveau moyen des objets équipés
            </div>
            <div class="card-character-main-infos-block-valeur" [style.color]="personnage.classeInfos.colorCss">
              {{personnage.items.ilvlEquipe}} <span class="ilvl-global">(Niveau moyen global : {{personnage.items.ilvlMoyen}})</span>
            </div>
          </div>
          <div class="pull-right card-character-main-infos-block">
            <div class="card-character-main-infos-block-entete" [style.border-bottom-color]="personnage.classeInfos.colorCss">
              <img src="/src/assets/achievements.gif"/>&nbsp;Hauts faits
            </div>
            <div class="card-character-main-infos-block-valeur" [style.color]="personnage.classeInfos.colorCss">
              {{personnage.pointsHautFaits}}
            </div>
          </div>
        </div>
      </div>
  </div>
  <div class="col-xs-12">
    <div class="col-xs-6 items">
        <app-entete-titre [titre]="'Equipements'" [personnage]="personnage"></app-entete-titre>
        <app-item *ngFor="let item of personnage.items.getAllItemsOrdonnes()" [item]="item"></app-item>
    </div>
    <div class="col-xs-6 stats">
        <app-entete-titre [titre]="'Caracteristiques'" [personnage]="personnage"></app-entete-titre>
    </div>
  </div>
</span>


